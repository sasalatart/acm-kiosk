<h1 class="horizontal-center">
  Vota por tus productos favoritos
</h1>
<h3 class="horizontal-center">
  Tienes {{3 - nomineeCtrl.identity.votes.length}} votos disponibles
</h3>

<div class="horizontal-center" ng-if="nomineeCtrl.identity.admin">
  <form class="ui form" name="newNomineeForm" ng-submit="newNomineeForm.$valid && nomineeCtrl.newNominee()" novalidate>
    <div class="inline fields">
      <div class="field">
        <label for="name">Nombre del Producto</label>
        <input id="name" name="name" ng-model="nomineeCtrl.nomineeForm.name" required type="text">
      </div>
      <div class="field">
        <input class="ui button" ng-class="{ 'disabled': !newNomineeForm.$valid }" type="submit" value="Crear">
      </div>
    </div>
  </form>
</div>

<div class="horizontal-center-space-between nominee" ng-repeat="nominee in nomineeCtrl.nominees | orderBy : '-voters.length'">
  <div class="progress-bar">
    <progress id={{nominee.id}} max={{nomineeCtrl.totalVotes()}} value={{nominee.voters.length}}></progress>
    <span>
      {{nominee.name}}: {{nominee.voters.length}} votos
    </span>
  </div>
  <div class="vote ui icon buttons">
    <div class="ui basic red button" ng-click="nomineeCtrl.removeVote(nominee)">
      <i class="ui minus icon"></i>
    </div>
    <div class="ui basic green button" ng-click="nomineeCtrl.vote(nominee)">
      <i class="ui plus icon"></i>
    </div>
    <div class="ui basic grey button" ng-click="nomineeCtrl.destroyNominee(nominee)" ng-if="nomineeCtrl.identity.admin">
      <i class="ui remove icon"></i>
    </div>
    <div class="ui basic blue button" ng-click="nomineeCtrl.getVoters(nominee)">
      <i class="ui search icon"></i>
    </div>
  </div>
</div>

<div class="ui long modal">
  <i class="close icon"></i>
  <h1 class="horizontal-center">
    Votantes de {{nomineeCtrl.selectedNominee.name}}
  </h1>
  <div class="users">
    <div ng-repeat="voter in nomineeCtrl.selectedNominee.voters">
      <img class="ui avatar image" src="{{voter.facebook.photo}}">
      <span>{{voter.facebook.name}}</span>
    </div>
  </div>
</div>
